<!-- <app-vehicleConfiguration-sidebar></app-vehicleConfiguration-sidebar> --><button class="btn btn-primary"  *ngIf="vehicle_id" [routerLink]="['/vehicleconfiguration',vehicle_id]">View Vehicle Configuration  &nbsp;  <i class="fa fa-arrow-left" aria-hidden="true"></i></button>
<div class="row">
    <div class="col-sm-12">
            <div class="panel panel-info">
            <header class="panel-heading form-header">
                <h4>New Vehicle Registration!</h4>
            </header>
<div class="panel-body">                
    <form
                    novalidate
                    (ngSubmit)="onSubmit()"
                    [formGroup]="vehicleConfigurationForm"  >

                    <section class="row" >

                        
                    <fieldset class="col-sm-4 form-group" >

                                <div class="form-group"
                                [ngClass]="{'has-error':(vehicleConfigurationForm.get('routes').touched || 
                                vehicleConfigurationForm.get('routes').dirty) && 
                                vehicleConfigurationForm.get('routes').errors }" >
    
                                <label  for="nameId" class="control-label">Route<sup>*</sup> </label>
                               
                                <select class="form-control" 
                                id="specializationId"   
                                #device
                                style="width:180px"
                                (change)="calc(device.value)" 
                                [(ngModel)]="power"
                            
                                formControlName="routes"  required>
                                <option value=""  selected>select</option>
                                <option *ngFor="let routes of routes">{{routes.name}}</option>

                                </select>
    
                        <span class="help-block" *ngIf="(vehicleConfigurationForm.get('routes').touched || 
                                                         vehicleConfigurationForm.get('routes').dirty) && 
                                                         vehicleConfigurationForm.get('routes').errors">
                                <span *ngIf="vehicleConfigurationForm.get('routes').errors.required">
                                        Please select one.
                                </span>
                        </span> 
                        
                        </div> 
                        </fieldset>

                      
                        
                        <fieldset class="col-sm-4 form-group" >

                            <!-- <div class="form-group"
                            [ngClass]="{'has-error':(vehicleConfigurationForm.get('times').touched || 
                            vehicleConfigurationForm.get('times').dirty) && 
                            vehicleConfigurationForm.get('times').errors }" > -->

                            <label  for="nameId" class="control-label">Times For Links<sup>*</sup> </label>
                           
                            <div formArrayName="times">
                   
                                     
                            <div  *ngFor="let key of source_destination; let i=index">
                              <h5   for="nameId" style="margin-left: 15px" class="control-label">{{key.source}}-{{key.destination}}</h5><input type="number" min="1"  max="7200" class="form-control" style="margin-top: 5px" [formControlName]="i" required>
                            </div>
                          </div>
      
                    <!-- <span class="help-block" *ngIf="(vehicleConfigurationForm.get('times').touched || 
                                                     vehicleConfigurationForm.get('times').dirty) && 
                                                     vehicleConfigurationForm.get('times').errors">
                            <span *ngIf="vehicleConfigurationForm.get('times').errors.required">
                                    This field is required.
                            </span>
                            
                    </span>  -->
                    
            <!-- </div>          -->
                    </fieldset>



                    
                    <fieldset class="col-sm-4 form-group" >

                                <div class="form-group"
                                [ngClass]="{'has-error':(vehicleConfigurationForm.get('start_time').touched || 
                                vehicleConfigurationForm.get('start_time').dirty) && 
                                vehicleConfigurationForm.get('start_time').errors }" >
    
                                <label  for="nameId" class="control-label">Start Time<sup>*</sup> </label>
                               
                                        <input class="form-control" 
                                        id="start_timeId" 
                                        type="text" 
                                        placeholder="HH:MM:SS,HH:MM:SS,...."
                                        pattern="(([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9],)*([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]"
                                 
                                        formControlName="start_time" />
                        <span class="help-block" *ngIf="(vehicleConfigurationForm.get('start_time').touched || 
                                                         vehicleConfigurationForm.get('start_time').dirty) && 
                                                         vehicleConfigurationForm.get('start_time').errors">
                                <span *ngIf="vehicleConfigurationForm.get('start_time').errors.required">
                                        This field is required.
                                </span>
                                
                        </span> 
                        
                        </div> 
                        </fieldset>
                        </section>
                        <section class="row">

                                <fieldset class="col-sm-4 form-group" >

                                        <!-- <div class="form-group"
                                        [ngClass]="{'has-error':(vehicleConfigurationForm.get('times').touched || 
                                        vehicleConfigurationForm.get('times').dirty) && 
                                        vehicleConfigurationForm.get('times').errors }" > -->
            
                                        <label  for="nameId" class="control-label">Wait Times<sup>*</sup> </label>

                                           
                                        
                                                
                                     
                                        <div formArrayName="wait_time">
                               
                                                 
                                        <div  *ngFor="let key of just_for_need_arr_2; let i=index">
                                                <h5   for="nameId2" style="margin-left: 15px" class="control-label">{{key}}</h5> <input type="number" min="1" max="30"class="form-control" style="margin-top: 5px" [formControlName]="i" required >
                                        </div>
                                      </div>
                  
                                <!-- <span class="help-block" *ngIf="(vehicleConfigurationForm.get('times').touched || 
                                                                 vehicleConfigurationForm.get('times').dirty) && 
                                                                 vehicleConfigurationForm.get('times').errors">
                                        <span *ngIf="vehicleConfigurationForm.get('times').errors.required">
                                                This field is required.
                                        </span>
                                        
                                </span>  -->
                                
                        <!-- </div>          -->
                                </fieldset>
            

                            </section>


           
       

              <div class="row">

              <div class="btn" style="margin-left: 200px; background: white;width: 200px">  
                                <button class="btn btn-primary" style="margin-left:0px" type="submit" [disabled]="!vehicleConfigurationForm.valid" >Submit</button>
                         
                        </div>
                        
            
                        <div class="btn" style="margin-left: 85px; background: white;width: 200px">  
                                    <button class="btn btn-primary" style="margin-left:0px" type="submit" (click)="Reset()" >Reset</button>
                             
                            </div>
            </div>             
            </form> 


    </div>
    <footer class="panel-footer">
            <i class="fa fa-arrow-circle-left pull-left" aria-hidden="true"></i>
            <i class="fa fa-arrow-circle-right pull-right" aria-hidden="true"></i>
    </footer>
    </div>
    </div>
    


    

    <div class="panel-heading form-group" style="background: white;float:left; margin:15px;width:90%" >
            Value: {{ vehicleConfigurationForm.value | json }}
        
          
            <br> <br>


         
</div>  

