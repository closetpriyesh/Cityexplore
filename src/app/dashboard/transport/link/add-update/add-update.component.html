<!-- <app-link-sidebar></app-link-sidebar> -->
<button class="btn btn-primary"   routerLink="/viewlink">Back &nbsp;  <i class="fa fa-arrow-left" aria-hidden="true"></i></button>
<div class="row">
    <div class="col-sm-12">
            <div class="panel panel-info">
            <header class="panel-heading form-header">
                <h4>New Link Registration!</h4>
            </header>
<div class="panel-body">                
    <form
                    novalidate
                    (ngSubmit)="onSubmit()"
                    [formGroup]="linkForm"  >

                    <section class="row" >



                        
                      <fieldset class="col-sm-4 form-group" >

                                <div class="form-group"
                                [ngClass]="{'has-error':(linkForm.get('name').touched || 
                                linkForm.get('name').dirty) && 
                                linkForm.get('name').errors }">

                                <label  for="nameId" class="control-label">Name<sup>*</sup> </label>
                               
                                        <input class="form-control" 
                                        id="nameId" 
                                        type="text"   pattern="[A-Za-z]{2}[0-9A-Za-z\s-]*"
                                       
                                    
                                        formControlName="name" />
                        <span class="help-block" *ngIf="(linkForm.get('name').touched || 
                                                         linkForm.get('name').dirty) && 
                                                         linkForm.get('name').errors">
                                <span *ngIf="linkForm.get('name').errors.required">
                                        Please enter your first name.
                                </span>
                                <span *ngIf="linkForm.get('name').errors.minlength">
                                The first name must be longer than 3 characters.
                                </span>
                                
                        </span> 
                        
                        </div> 
                        </fieldset>

                        <fieldset class="col-sm-4 form-group" style="margin-bottom: 0px">

                                <div class="form-group"
                                [ngClass]="{'has-error':(linkForm.get('source').touched || 
                                linkForm.get('source').dirty) && 
                                linkForm.get('source').errors||((linkForm.get('destination').value)&&linkForm.get('destination').value==linkForm.get('source').value)}">

                                <label  for="sourceId" class="control-label">Source<sup>*</sup> </label>
                              
                                                <select class="form-control" 
                                                id="specializationId"   
                                                style="width:180px"
                                                [(ngModel)]="selectedValue1"
                                                formControlName="source"  required>
                                                <option value=""  selected>select</option>
                                            
                                                <option *ngFor="let key of approved_stops">{{key[0].name}}</option>
                                                </select>
                
                        <span class="help-block" *ngIf="(linkForm.get('source').touched || 
                                                         linkForm.get('source').dirty) && 
                                                         linkForm.get('source').errors">
                                <span *ngIf="linkForm.get('source').errors.required">
                                        Please enter source.
                                </span>
                                <span *ngIf="linkForm.get('source').errors.minlength">
                                The source must be longer than 3 characters.
                                </span>
                                
                        </span> 
                        
                        </div> 
                        </fieldset>

                        <fieldset class="col-sm-4 form-group"style="margin-bottom: 0px" >

                                <div class="form-group"
                                [ngClass]="{'has-error':(linkForm.get('destination').touched || 
                                linkForm.get('destination').dirty) && 
                                linkForm.get('destination').errors||((linkForm.get('destination').value)&&linkForm.get('destination').value==linkForm.get('source').value) }">

                                <label  for="destinationId" class="control-label">Destination<sup>*</sup> </label>
                               
                                <select class="form-control" 
                                id="specializationId"   
                                style="width:180px"
                                [(ngModel)]="selectedValue2"
                                formControlName="destination"  required>
                                <option value=""  selected>select</option>
                            
                                <option *ngFor="let key of approved_stops">{{key[0].name}}</option>
                                </select>
                        <span class="help-block" *ngIf="(linkForm.get('destination').touched || 
                                                         linkForm.get('destination').dirty) && 
                                                         linkForm.get('destination').errors">
                                <span *ngIf="linkForm.get('destination').errors.required">
                                        Please enter your destination.
                                </span>
                                <span *ngIf="linkForm.get('destination').errors.minlength">
                                The destination must be longer than 3 characters.
                                </span>
                                
                        </span> 
                        
                        </div> 
                       
                        </fieldset>
                        <div     *ngIf="((linkForm.get('destination').value)&&linkForm.get('destination').value==linkForm.get('source').value)" style="color: red;margin-left: 420px ;margin-top: 0px;padding-top: 0px" >
                                        Source and Destination cannot be same.
                        </div> 
                      
      
                            </section>
                         
                                
                            
                           

                            <section class="row" >

                                    <fieldset class="col-sm-4 form-group" >

                                            <div class="form-group"
                                            [ngClass]="{'has-error':(linkForm.get('distance').touched || 
                                            linkForm.get('distance').dirty) && 
                                            linkForm.get('distance').errors }"  >
                                                    <label  for="distanceId" class="control-label">  Distance <sup>*</sup> </label>
                                           
                                                    <input class="form-control" 
                                                    id="distanceId" 
                                                    type="number" 
                                                    min="0"
                                                    max="10000" 
                                                    formControlName="distance" />
                    
                                                    <span class="help-block" *ngIf="(linkForm.get('distance').touched || 
                                                    linkForm.get('distance').dirty) && 
                                                    linkForm.get('distance').errors">
                                                <span *ngIf="linkForm.get('distance').errors.required">
                                                                <sup>*</sup> This field is required.
                                                        </span>
                                                </span>
                    
                                            </div> 
                    
                                        </fieldset> 
                                        
                                        <fieldset class="col-sm-4 form-group">
                                                <label for="checkid" class="control-label">
                                                              Description:
                                                                      </label>
                                                  <textarea class="form-control" id="description" name="description" class="description-about-transport" formControlName="description"></textarea>
                                        </fieldset>
                                    
                            
                    
                    
                   
                            
                            </section>
           
             
                  
                  
                      
              

                   
                                   
       

              <div class="row">

              <div class="btn" style="margin-left: 200px; background: white;width: 200px">  
                                <button class="btn btn-primary" style="margin-left:0px" type="submit" [disabled]="!linkForm.valid||((linkForm.get('destination').value)&&linkForm.get('destination').value==linkForm.get('source').value)" >Submit</button>
                         
                        </div>
                        
            
                        <div class="btn" style="margin-left: 85px; background: white;width: 200px">  
                                    <button class="btn btn-primary" style="margin-left:0px" type="submit" (click)="Reset()" >Reset</button>
                             
                            </div>
            </div>             
            </form> 


    </div>
     <footer class="panel-footer">
            <i class="fa fa-arrow-circle-left pull-left" aria-hidden="true" ng-click="lbc.goToViewLabs()"></i>
            <i class="fa fa-arrow-circle-right pull-right" aria-hidden="true" ng-click="lbc.goToLabAddress()"></i>
          </footer>
    </div>
    </div>
    
    <!-- <div class="panel-heading form-group" style="background: white;float:left; margin:15px;width:90%" >
            Value: {{ linkForm.value | json }}
        
          
            <br> <br>


         
</div>  -->

