<!-- <app-company-sidebar></app-company-sidebar> -->
<button class="btn btn-primary"   routerLink="/viewcompany">Back &nbsp;  <i class="fa fa-arrow-left" aria-hidden="true"></i></button>
<div class="row">
    <div class="col-sm-12">
            <div class="panel panel-info">
            <header class="panel-heading form-header">
                <h4>New Company Registration!</h4>
            </header>
<div class="panel-body">                
    <form
                    novalidate
                    (ngSubmit)="onSubmit()"
                    [formGroup]="companyForm"  >

                    <section class="row" >



                        
                      <fieldset class="col-sm-4 form-group" >

                                <div class="form-group"
                                [ngClass]="{'has-error':(companyForm.get('name').touched || 
                                companyForm.get('name').dirty) && 
                                companyForm.get('name').errors }">

                                <label  for="nameId" class="control-label">Name<sup>*</sup> </label>
                               
                                        <input class="form-control" 
                                        id="nameId" 
                                        type="text"   pattern="[A-Za-z]{2}[0-9A-Za-z\s]*"
                                      
                                        placeholder="company Name (required)" 
                                        formControlName="name" />
                        <span class="help-block" *ngIf="(companyForm.get('name').touched || 
                                                         companyForm.get('name').dirty) && 
                                                         companyForm.get('name').errors">
                                <span *ngIf="companyForm.get('name').errors.required">
                                        Please enter your first name.
                                </span>
                                <span *ngIf="companyForm.get('name').errors.minlength">
                                The first name must be longer than 3 characters.
                                </span>
                                
                        </span> 
                        
                        </div> 
                        </fieldset>

                        <fieldset class="col-sm-4 form-group">
                                        <div class="form-group"
                                        [ngClass]="{'has-error':(companyForm.get('contact').touched || 
                                        companyForm.get('contact').dirty) && 
                                        companyForm.get('contact').errors }" >
                                                <label  for="contactId" class="control-label">Contact Number<sup>*</sup> </label>
                                       
                                                <input class="form-control" 
                                                id="contactId" 
                                                pattern="[6-9][0-9]{9}"
                                                type="text" 
                                                
                                                formControlName="contact" />
                                        
                                        </div> 
                                        </fieldset>


                         <fieldset class="col-sm-4 form-group">
                        <div class="form-group"
                        [ngClass]="{'has-error':(companyForm.get('logo').touched || 
                        companyForm.get('logo').dirty) && 
                        companyForm.get('logo').errors }">
                                <label  for="imageId" class="control-label">Logo<sup>*</sup></label>
                                <input class="form-control" 
                                id="imageId" 
                                type="file" 
                                placeholder="company_logo (required)" 
                                formControlName="logo" 
                                (change)="fileEvent($event)"/>
            
                        <span class="help-block" *ngIf=" (companyForm.get('logo').touched || 
                        companyForm.get('logo').dirty) && companyForm.get('logo').errors">                                        
                        </span> 

                
                        </div> 
                        </fieldset>

                        </section>
                        
                         <section class="row">
                        <fieldset class="col-sm-4 form-group">
                                <div class="form-group"
                                [ngClass]="{'has-error':(companyForm.get('image_list').touched || 
                                companyForm.get('image_list').dirty) && 
                                companyForm.get('image_list').errors }">
                                        <label  for="imageId" class="control-label">Image<sup>*</sup> </label>
                                        <input class="form-control" 
                                        id="imageId"                
                                        type="file" 
                                        formControlName="image_list" 
                                        (change)="fileEvent1($event)"/>
                    
                                <span class="help-block" *ngIf=" (companyForm.get('image_list').touched || 
                                companyForm.get('image_list').dirty) && companyForm.get('image_list').errors">
                                                        
                        </span>      
                        </div> 
                        </fieldset> 
                        
                          <fieldset class="col-sm-4 form-group" >

                                        <div class="form-group"
                                        [ngClass]="{'has-error':(companyForm.get('headquarters').touched || 
                                        companyForm.get('headquarters').dirty) && 
                                        companyForm.get('headquarters').errors }">
        
                                        <label  for="nameId" class="control-label">Headquarters<sup>*</sup> </label>
                                       
                                                <input class="form-control" 
                                                id="headquartersId" 
                                                type="text"   pattern="[A-Za-z]{2}[0-9A-Za-z\s]*"
                                               
                                                formControlName="headquarters" />
                                                
                                <span class="help-block" *ngIf="(companyForm.get('headquarters').touched || 
                                                                 companyForm.get('headquarters').dirty) && 
                                                                 companyForm.get('headquarters').errors">
                                        <span *ngIf="companyForm.get('headquarters').errors.required">
                                                Please enter the headquarters.
                                        </span>
                                        <span *ngIf="companyForm.get('headquarters').errors.minlength">
                                        The headquarters must be longer than 3 characters.
                                        </span>
                                        
                                </span> 
                                
                                </div> 
                                </fieldset>  

                                <fieldset class="col-sm-3 form-group" >
                                        <label  for="nameId" class="control-label">Select Services<sup>*</sup> </label>

                                        <div class="form-group"
                                        [ngClass]="{'has-error':(companyForm.get('services').touched || 
                                        companyForm.get('services').dirty) && 
                                        companyForm.get('services').errors }" style="padding-left: 10px">
                                      
                               
                         <angular2-multiselect [data]="services" 
                                        [(ngModel)]="selectedItems" 
                                        [settings]="settings" 
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)" 
                                        (onSelectAll)="onSelectAll($event)" 
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        formControlName="services">
                  </angular2-multiselect>
                <span class="help-block" *ngIf="(companyForm.get('services').touched || 
                                                                 companyForm.get('services').dirty) && 
                                                                 companyForm.get('services').errors">
                                        <span *ngIf="companyForm.get('services').errors.required">
                                                Please select one.
                                        </span>
                                        
                                </span> 
                                
                                </div> 
                                </fieldset>  
                                      
                        </section> 

                     <section class="row" >

                                <fieldset class="col-sm-4 form-group">
    
                                                        <div class="form-group"
                                                        [ngClass]="{'has-error':(companyForm.get('website').touched ||
                                                        companyForm.get('website').dirty) &&
                                                        companyForm.get('website').errors }">
                        
                                                        <label  for="websiteId" class="control-label" >Website<sup>*</sup> </label>
                        
                                                                <input class="form-control"
                                                                id="websiteId"
                                                                type="text"
                                                                pattern="^((https?|ftp|smtp):\/\/)?(www.)?[a-z0-9]+\.[a-z]+(\/[a-zA-Z0-9#]+\/?)*$"
                                                                
                                                                placeholder="company Name (required)"
                                                                formControlName="website" />
                                                             
                                                                      
                                                                
                                                </div>
                                                </fieldset> 

                        
                                <fieldset class="col-sm-3 form-group"  >
                                        <label  for="nameId" class="control-label">Select Operational Cities<sup>*</sup> </label>
                                        <div class="form-group"
                                        [ngClass]="{'has-error':(companyForm.get('operational_cities').touched || 
                                        companyForm.get('operational_cities').dirty) && 
                                        companyForm.get('operational_cities').errors }" style="padding-left: 10px">
                                   
                         <angular2-multiselect [data]="operational_cities" 
                                        [(ngModel)]="selectedItems1" 
                                        [settings]="settings" 
                                        (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)" 
                                        (onSelectAll)="onSelectAll($event)" 
                                        (onDeSelectAll)="onDeSelectAll($event)"
                                        formControlName="operational_cities">
                  </angular2-multiselect>
                <span class="help-block" *ngIf="(companyForm.get('operational_cities').touched || 
                                                                 companyForm.get('operational_cities').dirty) && 
                                                                 companyForm.get('operational_cities').errors">
                                        <span *ngIf="companyForm.get('operational_cities').errors.required">
                                                Please select one.
                                        </span>
                                        
                                </span> 
                                
                                </div> 
                                </fieldset>  
                                            
                         </section>  
             
                       <section class="row" >

                                
                                        <fieldset class="col-sm-4 form-group">
               
                                                        <div class="form-group"
                                                        [ngClass]="{'has-error':(companyForm.get('city_name').touched ||
                                                        companyForm.get('city_name').dirty) &&
                                                        companyForm.get('city_name').errors }" >
                                                                <label  for="city" class="control-label">City<sup>*</sup> </label>
                    
                                                                <input class="form-control"
                                                                id="cityId"
                                                                type="text"
                                                                [(ngModel)]="city"
                                                                readonly
                                                                 pattern="[A-Za-z]{2,}"
                                                                formControlName="city_name" />
                    
                    
                                                                <span class="help-block" *ngIf="(companyForm.get('city_name').touched || 
                                                                companyForm.get('city_name').dirty) && 
                                                                companyForm.get('city_name').errors">
                                            <span *ngIf="companyForm.get('city_name').errors.required">
                                                                    Please enter the city name.
                                                            </span>
                                                            </span>
                    
                                                        </div>
                    
                                                </fieldset>
                    
                                            
                                                <fieldset class="col-sm-4 form-group" >
                    
                                                            <div class="form-group"
                                                            [ngClass]="{'has-error':(companyForm.get('state').touched || 
                                                            companyForm.get('state').dirty) && 
                                                            companyForm.get('state').errors }">
                            
                                                            <label  for="stateId" class="control-label">State<sup>*</sup> </label>
                                                           
                                                                    <input class="form-control" 
                                                                    id="stateId" 
                                                                    type="text"  pattern="[A-Za-z]{3}[0-9A-Za-z\s,.-]*"
                                                                    formControlName="state" />
                                                    <span class="help-block" *ngIf="(companyForm.get('state').touched || 
                                                                                     companyForm.get('state').dirty) && 
                                                                                     companyForm.get('state').errors">
                    
                                                         <span *ngIf="companyForm.get('state').errors.required">
                                                            Please enter state name.
                                                         </span>
                                                           
                                                            <span *ngIf="companyForm.get('state').errors.minlength">
                                                            State Name must be atleast 3 characters.
                                                            </span>
                                                            
                                                    </span> 
                                                    
                                                    </div> 
                                                    </fieldset>
            
            
            
                                        <fieldset class="col-sm-4 form-group">
               
                                                <div class="form-group"
                                                [ngClass]="{'has-error':(companyForm.get('address').touched ||
                                                companyForm.get('address').dirty) &&
                                                companyForm.get('address').errors }" >
                                                        <label  for="address" class="control-label">Address<sup>*</sup> </label>
            
                                                        <input class="form-control"
                                                        id="addressId"
                                                        type="text"         pattern="[0-9]{0,6}[a-zA-Z\s.-]{1,50}[0-9a-zA-Z\s.,-]*"
                                                        required
                                                        formControlName="address" />
                                                        <span class="help-block" *ngIf="(companyForm.get('address').touched || 
                                                        companyForm.get('address').dirty) && 
                                                        companyForm.get('address').errors">
                                                        
                                                        <span *ngIf="companyForm.get('address').errors.required">
                                                            Please enter the address
                                                    </span>
                                                    </span>
            
            
                                                </div>
            
                                        </fieldset>
                                        
            
            
                                   </section>


                                   <div class="form-group">
                                        <input type="radio" id="btn" (click)="getLatLong()" style="margin-left: 10px"> <b>Get Latitude Longitude</b>
                                    </div>
        
                               <section class="row" >
        
        
        
                                        <fieldset class="col-sm-4 form-group">
           
                                                        <div class="form-group"
                                                        [ngClass]="{'has-error':(companyForm.get('lat').touched ||
                                                        companyForm.get('lat').dirty) &&
                                                        companyForm.get('lat').errors }" >
                                                                <label  for="lat" class="control-label">Latitude<sup>*</sup> </label>
                    
                                                                <input class="form-control"
                                                                id="latId"
                                                                [ngModel]="lat"
                                                                type="text"
                                                                pattern="([-]{0,1})[0-9]*[.][0-9]*"
                                                                required
                                                                formControlName="lat" />
                                                            
                                                                <span class="help-block" *ngIf="(companyForm.get('lat').touched || 
                                                                companyForm.get('lat').dirty) && 
                                                                companyForm.get('lat').errors">
                                                                
                                                                <span *ngIf="companyForm.get('lat').errors.required">
                                                                    Please select "get lat and lon".
                                                            </span>
                                                            </span>
                    
                                                        </div>
                    
                                                </fieldset>
        
                                        <fieldset class="col-sm-4 form-group">
           
                                                        <div class="form-group"
                                                        [ngClass]="{'has-error':(companyForm.get('lon').touched ||
                                                        companyForm.get('lon').dirty) &&
                                                        companyForm.get('lon').errors }" >
                                                                <label  for="lon" class="control-label">Longitude<sup>*</sup> </label>
                    
                                                                <input class="form-control"
                                                                id="lonId"
                                                                type="text"
                                                                [ngModel]="lon"
                                                                pattern="([-]{0,1})[0-9]*[.][0-9]*"
                                                                required
                                                                formControlName="lon" />
                                                            
                                                                <span class="help-block" *ngIf="(companyForm.get('lon').touched || 
                                                                companyForm.get('lon').dirty) && 
                                                                companyForm.get('lon').errors">
                                                                
                                                                <span *ngIf="companyForm.get('lon').errors.required">
                                                                    Please select "get lat and lon".
                                                            </span>
                                                            </span>
                    
                                                        </div>
                    
                                                </fieldset>
        
                                   
        </section>
        


                         
           
             
                  
                  
                      
              

                   
                                   
       

              <div class="row">

              <div class="btn" style="margin-left: 200px; background: white;width: 200px">  
                                <button class="btn btn-primary" style="margin-left:0px" type="submit" [disabled]="!companyForm.valid" >Submit</button>
                         
                        </div>
                        
            
                        <div class="btn" style="margin-left: 85px; background: white;width: 200px">  
                                    <button class="btn btn-primary" style="margin-left:0px" type="submit" (click)="Reset()" >Reset</button>
                             
                            </div>
            </div>             
            </form> 


    </div>
     <footer class="panel-footer">
            <i class="fa fa-arrow-circle-left pull-left" aria-hidden="true" ng-click="lbc.goToViewLabs()"></i>
            <i class="fa fa-arrow-circle-right pull-right" aria-hidden="true" ng-click="lbc.goToLabAddress()"></i>
          </footer>
    </div>
    </div>
    
    <div class="panel-heading form-group" style="background: white;float:left; margin:15px;width:90%" >
            Value: {{ companyForm.value | json }}
        
          
            <br> <br>


         
</div> 

